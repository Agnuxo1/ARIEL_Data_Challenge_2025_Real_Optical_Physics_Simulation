# Makefile for Linux/Kaggle compilation of ARIEL model
# Usage: make -f Makefile_kaggle

CXX = g++
CXXFLAGS = -std=c++17 -O3 -DNDEBUG -march=native
INCLUDES = -I. -I/usr/include/eigen3 -I./cnpy
LIBS = -lopenblas -lz

# Source files
SOURCES = ariel_kaggle_standalone.cpp
TARGET = ariel_kaggle_standalone

# Default target
all: $(TARGET)

$(TARGET): $(SOURCES)
	@echo "================================"
	@echo "ARIEL KAGGLE LINUX COMPILATION"
	@echo "================================"
	$(CXX) $(CXXFLAGS) $(INCLUDES) $(SOURCES) -o $(TARGET) $(LIBS)
	@echo "Linux build successful: $(TARGET)"
	@echo "Ready for Kaggle deployment"
	@echo "================================"

clean:
	rm -f $(TARGET) *.o

install-deps:
	@echo "Installing dependencies for Ubuntu/Kaggle..."
	sudo apt-get update
	sudo apt-get install -y g++ libeigen3-dev libopenblas-dev zlib1g-dev

.PHONY: all clean install-deps