cmake_minimum_required(VERSION 3.18)
project(ArielSimpleModel LANGUAGES CXX)

# Set C++ standard
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Configure for Windows Environment
set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)

# Set dependency paths
set(EIGEN_DIR "E:/eigen-3.4.0")
set(CNPY_DIR "C:/cnpy")
set(OPENBLAS_DIR "E:/openblas_install")
set(ZLIB_DIR "C:/zlib_install")

# Include directories
include_directories(
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${EIGEN_DIR}
    ${CNPY_DIR}
    ${OPENBLAS_DIR}/include
    ${ZLIB_DIR}/include
)

# Add the main executable
add_executable(simple_ariel_trainer
    simple_ariel_trainer.cpp
)

# Set target properties
set_target_properties(simple_ariel_trainer PROPERTIES
    CXX_STANDARD 17
    CXX_STANDARD_REQUIRED ON
)

# Link libraries
target_link_libraries(simple_ariel_trainer
    PRIVATE
    ${CNPY_DIR}/Release/cnpy.lib
    ${OPENBLAS_DIR}/lib/libopenblas.lib
    ${ZLIB_DIR}/lib/z.lib
)
